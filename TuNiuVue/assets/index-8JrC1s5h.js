import{F as Q,T as X,W as ee}from"./To-Bb9-Wrac.js";import{_ as I,u as te,r as S,o as V,c as T,a as e,t as d,m as u,i as f,b as a,f as M,n as N,p as H,l as R,q as le,d as m,w as L,s as se,e as ae,k as x,h as C,F as oe,g as ie,j as z,v as q}from"./index-CpFgVaXK.js";import{R as ne}from"./ReturnDay-j3bocHMi.js";import{h as A,l as de,d as F,f as ue,y as $,b as re}from"./timeFormat-BXFVbjHX.js";const B=i=>(H("data-v-af9f1315"),i=i(),R(),i),pe={class:"ticketItem"},ve={class:"from item"},me={style:{color:"blue","font-weight":"700","font-size":"24px"}},ce={style:{"font-size":"13px","font-weight":"700"}},ye={class:"process item"},fe={style:{"font-size":"11px",color:"rgb(153,166,196)"}},he=B(()=>e("hr",null,null,-1)),ge={style:{"font-size":"11px",color:"rgb(153,166,196)"}},Ve=B(()=>e("svg",{t:"1725607126094",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4294",width:"16",height:"16"},[e("path",{d:"M832 176H494.4c-14.4 0-28.8 4.8-41.6 14.4l-30.4 25.6c-27.2 22.4-67.2 22.4-96 0l-30.4-25.6c-9.6-9.6-24-14.4-38.4-14.4H192c-70.4 0-128 57.6-128 128v416c0 70.4 57.6 128 128 128h52.8c20.8 0 40-9.6 51.2-25.6 52.8-72 104-72 156.8 0 12.8 16 32 25.6 51.2 25.6H832c70.4 0 128-57.6 128-128V304c0-70.4-57.6-128-128-128z m64 544c0 35.2-28.8 64-64 64H505.6c-38.4-52.8-83.2-80-129.6-80s-91.2 27.2-129.6 80H192c-35.2 0-64-28.8-64-64V304c0-35.2 28.8-64 64-64h65.6l30.4 25.6c51.2 43.2 126.4 43.2 177.6 0L496 240h336c35.2 0 64 28.8 64 64v416z",fill:"#4A576A","p-id":"4295"}),e("path",{d:"M384 368c-17.6 0-32 14.4-32 32v64c0 17.6 14.4 32 32 32s32-14.4 32-32v-64c0-17.6-14.4-32-32-32zM736 400H544c-17.6 0-32 14.4-32 32s14.4 32 32 32h192c17.6 0 32-14.4 32-32s-14.4-32-32-32zM736 560H544c-17.6 0-32 14.4-32 32s14.4 32 32 32h192c17.6 0 32-14.4 32-32s-14.4-32-32-32zM384 528c-17.6 0-32 14.4-32 32v64c0 17.6 14.4 32 32 32s32-14.4 32-32v-64c0-17.6-14.4-32-32-32z",fill:"#4A576A","p-id":"4296"})],-1)),be={class:"to item"},_e={style:{"font-weight":"700","font-size":"24px"}},ke={style:{"font-size":"13px","font-weight":"700"}},we=N('<div class="secondExist item" data-v-af9f1315><span style="color:rgb(153,166,196);font-size:11px;" data-v-af9f1315>二等座有票</span></div><div class="firstExist item" data-v-af9f1315><span style="color:rgb(153,166,196);font-size:11px;" data-v-af9f1315>一等座有票</span></div><div class="goodFirst item" data-v-af9f1315><span style="color:rgb(153,166,196);font-size:11px;" data-v-af9f1315>优选一等座<span style="color:orange;" data-v-af9f1315>(抢)</span></span></div>',3),ze={class:"economyExist item"},Se={style:{"font-weight":"700","font-size":"20px",color:"#409eff"}},Te={style:{color:"rgb(153,166,196)","font-size":"11px"}},Ue={class:"button item"},$e={__name:"TicketItem",props:["ticket"],setup(i){const c=te(),b=i,D=()=>{c.push({path:"/booking",query:{ticket:JSON.stringify(b.ticket)}})};return(p,v)=>{const y=S("el-button");return V(),T("div",pe,[e("div",ve,[e("p",me,d(u(A)(i.ticket.startTime)),1),e("p",ce,d(i.ticket.startStation),1)]),e("div",ye,[e("h6",fe,d(u(de)(i.ticket.lasts)),1),he,e("h6",ge,[f(d(i.ticket.trainNumber)+" ",1),Ve])]),e("div",be,[e("p",_e,d(u(A)(i.ticket.endTime)),1),e("p",ke,d(i.ticket.endStation),1)]),we,e("div",ze,[e("p",Se,"￥"+d(i.ticket.price),1),e("span",Te,"商务座"+d(i.ticket.availableSeats)+"张",1)]),e("div",Ue,[a(y,{type:"warning",size:"large",style:{width:"50px",height:"50px"},onClick:D},{default:M(()=>[f("订")]),_:1})])])}}},De=I($e,[["__scopeId","data-v-af9f1315"]]),r=i=>(H("data-v-54706361"),i=i(),R(),i),xe={class:"train-tickets"},Le={class:"info"},Ce={class:"towhere item"},qe={class:"from"},Ae=r(()=>e("h1",null,"出发城市",-1)),Fe={class:"to"},Ie=r(()=>e("h1",null,"到达城市",-1)),Me={class:"date item"},Ne=r(()=>e("h1",null,"出发日期",-1)),He={key:1},Re={class:"tickets"},Be={class:"up"},Ge={class:"left"},Ee={class:"right"},Je={style:{color:"rgb(102,102,102)","font-weight":"700"}},Oe={class:"down"},Pe={class:"content"},We={class:"condition",style:{width:"750px"}},je={class:"real-ticket"},Ke={class:"limit"},Ye=r(()=>e("div",{class:"tip per"},[e("span",null,"筛选"),e("span",null,"全部重置")],-1)),Ze=r(()=>e("hr",null,null,-1)),Qe={class:"onlyAvailable per"},Xe=r(()=>e("hr",null,null,-1)),et={class:"trainType per"},tt=r(()=>e("div",{class:"msg"},[e("span",null,"车型"),e("span",null,"重置")],-1)),lt={style:{"margin-left":"20px"}},st=N('<hr data-v-54706361><div class="startTime per" data-v-54706361><div class="msg" data-v-54706361><span data-v-54706361>出发时间</span><span data-v-54706361>重置</span></div><div class="timeList" data-v-54706361><div class="timeList-item" data-v-54706361><p data-v-54706361>00:00</p><p data-v-54706361>-</p><p data-v-54706361>06:00</p></div><div class="timeList-item" data-v-54706361><p data-v-54706361>06:00</p><p data-v-54706361>-</p><p data-v-54706361>12:00</p></div><div class="timeList-item" data-v-54706361><p data-v-54706361>12:00</p><p data-v-54706361>-</p><p data-v-54706361>18:00</p></div><div class="timeList-item" data-v-54706361><p data-v-54706361>18:00</p><p data-v-54706361>-</p><p data-v-54706361>24:00</p></div></div></div><hr data-v-54706361><div class="endTime per" data-v-54706361><div class="msg" data-v-54706361><span data-v-54706361>到达时间</span><span data-v-54706361>重置</span></div><div class="timeList" data-v-54706361><div class="timeList-item" data-v-54706361><p data-v-54706361>00:00</p><p data-v-54706361>-</p><p data-v-54706361>06:00</p></div><div class="timeList-item" data-v-54706361><p data-v-54706361>06:00</p><p data-v-54706361>-</p><p data-v-54706361>12:00</p></div><div class="timeList-item" data-v-54706361><p data-v-54706361>12:00</p><p data-v-54706361>-</p><p data-v-54706361>18:00</p></div><div class="timeList-item" data-v-54706361><p data-v-54706361>18:00</p><p data-v-54706361>-</p><p data-v-54706361>24:00</p></div></div></div><hr data-v-54706361>',5),at={class:"seatType per"},ot=r(()=>e("div",{class:"msg"},[e("span",null,"坐席"),e("span",null,"重置")],-1)),it={class:"every",style:{"margin-left":"20px"}},nt=r(()=>e("hr",null,null,-1)),dt={class:"startStation per"},ut=r(()=>e("div",{class:"msg"},[e("span",null,"出发车站"),e("span",null,"重置")],-1)),rt={style:{"margin-left":"20px"}},pt=r(()=>e("hr",null,null,-1)),vt={class:"endStation per"},mt=r(()=>e("div",{class:"msg"},[e("span",null,"到达车站"),e("span",null,"重置")],-1)),ct={style:{"margin-left":"20px"}},yt={__name:"index",setup(i){const c=le(),b=m(!0),D=m(),p=m(""),v=m(""),y=m([]),h=m(""),G=m(""),k=m(JSON.parse(c.query.tickets)),E=t=>{typeof t=="string"?p.value=t:p.value=y.value.find(l=>l.id===t).name},J=t=>{typeof t=="string"?v.value=t:v.value=y.value.find(l=>l.id===t).name},O=t=>{G.value=t},P=t=>{h.value=t,w.value=F(t)},W=()=>{b.value=!1},w=m(c.query.day),U=m("出发 早-晚");L(U,async t=>{const l=typeof p.value=="string"?y.value.find(n=>n.name===p.value).id:p.value,g=typeof v.value=="string"?y.value.find(n=>n.name===v.value).id:v.value;if(t==="价格排序"){const n=await z.get("/trainTickets/list?startStation="+l+"&endStation="+g+"&startTime="+$(h.value)+"&condition=price");k.value=n.data}else if(t==="运行时长"){const n=await z.get("/trainTickets/list?startStation="+l+"&endStation="+g+"&startTime="+$(h.value)+"&condition=lasts");k.value=n.data}else{const n=await z.get("/trainTickets/list?startStation="+l+"&endStation="+g+"&startTime="+$(h.value)+"&condition=time");k.value=n.data}}),L(w,async t=>{const l=typeof p.value=="string"?y.value.find(_=>_.name===p.value).id:p.value,g=typeof v.value=="string"?y.value.find(_=>_.name===v.value).id:v.value;h.value=re(t);const n=await z.get("/trainTickets/list?startStation="+l+"&endStation="+g+"&startTime="+$(h.value)+"&condition="+U.value);k.value=n.data});const j=se(()=>{let t=[];for(let l=0;l<7;l++)t.push(F(new Date(new Date().getTime()+l*24*60*60*1e3)));return t}),K=m(["出发 早-晚","运行时长","价格排序"]),Y=async()=>await z.get("/city/list");return ae(async()=>{const t=await Y();y.value=t.data}),(t,l)=>{const g=S("CirclePlusFilled"),n=S("el-icon"),_=S("el-segmented"),o=S("el-checkbox");return V(),T("div",xe,[e("div",Le,[e("div",Ce,[e("div",qe,[Ae,a(Q,{is:u(c).query.from,onGetFrom:E},null,8,["is"])]),e("div",Fe,[Ie,a(X,{is:u(c).query.towhere,onGetTo:J},null,8,["is"])])]),e("div",Me,[Ne,a(ee,{is:w.value,onGetDay:P},null,8,["is"])]),e("div",{class:"city item",style:{width:"200px"},ref_key:"mask",ref:D},[b.value&&u(c).query.returnDay===""?(V(),T("span",{key:0,style:{"line-height":"40px",cursor:"pointer"},onClick:W},[a(n,null,{default:M(()=>[a(g)]),_:1}),f("添加返程 ")])):x("",!0),b.value===!1||u(c).query.returnDay!==""?(V(),T("h1",He,"返回日期")):x("",!0),b.value===!1||u(c).query.returnDay!==""?(V(),C(ne,{key:2,is:u(c).query.returnDay,onGetReturn:O},null,8,["is"])):x("",!0)],512),e("div",{class:"button item",onClick:l[0]||(l[0]=s=>u(q).push("#"))}," 搜索 ")]),e("div",Re,[e("div",Be,[e("div",Ge,[e("h1",null,d(p.value)+"-"+d(v.value),1),e("h2",null," 单程 "+d(u(ue)(h.value)),1)]),e("div",Ee,[e("span",{style:{color:"#409eff",cursor:"pointer","font-weight":"700"},onClick:l[1]||(l[1]=s=>u(q).push("/train"))},"火车票"),f("   >   "),e("span",Je,d(p.value)+"到"+d(v.value)+"火车票",1)])]),e("div",Oe,[e("div",Pe,[e("div",We,[a(_,{modelValue:w.value,"onUpdate:modelValue":l[2]||(l[2]=s=>w.value=s),options:j.value,block:"",style:{"margin-bottom":"7px",height:"40px","border-radius":"10px"},class:"condition1"},null,8,["modelValue","options"]),a(_,{modelValue:U.value,"onUpdate:modelValue":l[3]||(l[3]=s=>U.value=s),options:K.value,block:"",style:{height:"40px","border-radius":"10px"},class:"condition2"},null,8,["modelValue","options"])]),e("div",je,[(V(!0),T(oe,null,ie(k.value,(s,Z)=>(V(),C(De,{key:Z,ticket:s},null,8,["ticket"]))),128))])]),e("div",Ke,[Ye,Ze,e("div",Qe,[a(o,{modelValue:t.only,"onUpdate:modelValue":l[4]||(l[4]=s=>t.only=s),label:"仅显示有票车次",size:"large",disabled:""},null,8,["modelValue"])]),Xe,e("div",et,[tt,e("div",lt,[a(o,{modelValue:t.only,"onUpdate:modelValue":l[5]||(l[5]=s=>t.only=s),label:"高铁(G/C)",size:"large",disabled:""},null,8,["modelValue"]),f("     "),a(o,{modelValue:t.only,"onUpdate:modelValue":l[6]||(l[6]=s=>t.only=s),label:"动车(D)",size:"large",disabled:""},null,8,["modelValue"]),a(o,{modelValue:t.only,"onUpdate:modelValue":l[7]||(l[7]=s=>t.only=s),label:"普通(Z/T/K)",size:"large",disabled:""},null,8,["modelValue"]),f("   "),a(o,{modelValue:t.only,"onUpdate:modelValue":l[8]||(l[8]=s=>t.only=s),label:"其他(L/Y)",size:"large",disabled:""},null,8,["modelValue"])])]),st,e("div",at,[ot,e("div",it,[a(o,{style:{width:"100px"},modelValue:t.only,"onUpdate:modelValue":l[9]||(l[9]=s=>t.only=s),label:"二等座",size:"large",disabled:""},null,8,["modelValue"]),a(o,{style:{width:"100px"},modelValue:t.only,"onUpdate:modelValue":l[10]||(l[10]=s=>t.only=s),label:"一等座",size:"large",disabled:""},null,8,["modelValue"]),a(o,{style:{width:"100px"},modelValue:t.only,"onUpdate:modelValue":l[11]||(l[11]=s=>t.only=s),label:"商务座",size:"large",disabled:""},null,8,["modelValue"]),a(o,{style:{width:"100px"},modelValue:t.only,"onUpdate:modelValue":l[12]||(l[12]=s=>t.only=s),label:"优选一等座",size:"large",disabled:""},null,8,["modelValue"]),a(o,{style:{width:"100px"},modelValue:t.only,"onUpdate:modelValue":l[13]||(l[13]=s=>t.only=s),label:"硬座",size:"large",disabled:""},null,8,["modelValue"]),a(o,{style:{width:"100px"},modelValue:t.only,"onUpdate:modelValue":l[14]||(l[14]=s=>t.only=s),label:"硬卧",size:"large",disabled:""},null,8,["modelValue"]),a(o,{style:{width:"100px"},modelValue:t.only,"onUpdate:modelValue":l[15]||(l[15]=s=>t.only=s),label:"软卧",size:"large",disabled:""},null,8,["modelValue"]),a(o,{style:{width:"100px"},modelValue:t.only,"onUpdate:modelValue":l[16]||(l[16]=s=>t.only=s),label:"无座",size:"large",disabled:""},null,8,["modelValue"]),a(o,{style:{width:"100px"},modelValue:t.only,"onUpdate:modelValue":l[17]||(l[17]=s=>t.only=s),label:"二等卧",size:"large",disabled:""},null,8,["modelValue"]),a(o,{style:{width:"100px"},modelValue:t.only,"onUpdate:modelValue":l[18]||(l[18]=s=>t.only=s),label:"一等卧",size:"large",disabled:""},null,8,["modelValue"])])]),nt,e("div",dt,[ut,e("div",rt,[a(o,{modelValue:t.only,"onUpdate:modelValue":l[19]||(l[19]=s=>t.only=s),label:"上海虹桥",size:"large",disabled:""},null,8,["modelValue"]),f("     "),a(o,{modelValue:t.only,"onUpdate:modelValue":l[20]||(l[20]=s=>t.only=s),label:"上海",size:"large",disabled:""},null,8,["modelValue"])])]),pt,e("div",vt,[mt,e("div",ct,[a(o,{modelValue:t.only,"onUpdate:modelValue":l[21]||(l[21]=s=>t.only=s),label:"北京南",size:"large",disabled:""},null,8,["modelValue"]),f("     "),a(o,{modelValue:t.only,"onUpdate:modelValue":l[22]||(l[22]=s=>t.only=s),label:"北京",size:"large",disabled:""},null,8,["modelValue"])])])])])])])}}},bt=I(yt,[["__scopeId","data-v-54706361"]]);export{bt as default};
